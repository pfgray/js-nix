




1. parse yarn.lock/pnpm-lock
2. For each dependency
  - create a derivation which:
    - downloads it,
    - unpacks it to $out

3. New derivation which takes in a list of packages,
  and links their $out to a new `$out/node_modules`





npm run-script preinstall
npm run-script install
elif [ -f ./binding.gyp ]; then
  ${nodePackages.node-gyp}/bin/node-gyp rebuild
fi
npm run-script postinstall



extras: For devshell, command which runs yarn install


type = "local";
type = "github";
type = "npm";


for each of these, `mkNodeModule()`

